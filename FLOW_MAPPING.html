<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Flow Mapping</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: #1a1a1a;
            font-size: 2.5em;
            margin-bottom: 0.5em;
            padding-bottom: 0.3em;
            border-bottom: 3px solid #0066cc;
        }

        h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            padding-bottom: 0.2em;
            border-bottom: 2px solid #3498db;
        }

        h3 {
            color: #34495e;
            font-size: 1.4em;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }

        p {
            margin-bottom: 1em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5em 0;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        thead {
            background-color: #0066cc;
            color: white;
        }

        th {
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        tbody tr:hover {
            background-color: #f5f9fc;
        }

        tbody tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tbody tr:nth-child(even):hover {
            background-color: #f0f4f8;
        }

        strong, b {
            color: #0066cc;
            font-weight: 600;
        }

        ul, ol {
            margin-left: 2em;
            margin-bottom: 1em;
        }

        li {
            margin-bottom: 0.5em;
        }

        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        /* Print-specific styles */
        @media print {
            body {
                padding: 20px;
            }

            * {
                page-break-inside: avoid !important;
                break-inside: avoid !important;
            }

            h1, h2, h3 {
                page-break-before: avoid !important;
                page-break-after: avoid !important;
                break-before: avoid !important;
                break-after: avoid !important;
            }

            table {
                page-break-before: avoid !important;
                page-break-inside: avoid !important;
                page-break-after: avoid !important;
                break-before: avoid !important;
                break-inside: avoid !important;
                break-after: avoid !important;
            }

            tr, td, th {
                page-break-inside: avoid !important;
                break-inside: avoid !important;
            }
        }

        /* Checkmarks for validation section */
        .validation-list {
            list-style: none;
            margin-left: 0;
        }

        .validation-list li::before {
            content: "✅ ";
            margin-right: 0.5em;
        }
    </style>
</head>
<body>
<h1>Application Flow Mapping</h1>
<h2>Page Index Reference</h2>
<table>
<thead>
<tr>
<th>Step #</th>
<th>Page ID</th>
<th>Array Index</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>welcome</td>
<td>0</td>
<td>Welcome page with user name and PWO #</td>
</tr>
<tr>
<td>2</td>
<td>group-practice</td>
<td>1</td>
<td>Group Practice Application verification</td>
</tr>
<tr>
<td>3</td>
<td>question-6</td>
<td>2</td>
<td>Question 6 verification</td>
</tr>
<tr>
<td>4</td>
<td>payto-mailto</td>
<td>3</td>
<td>Pay To/Mail To information</td>
</tr>
<tr>
<td>5</td>
<td>questions-9-17</td>
<td>4</td>
<td>Questions 9-17 verification</td>
</tr>
<tr>
<td>6</td>
<td>email-to-snow</td>
<td>5</td>
<td>Email to SNOW</td>
</tr>
<tr>
<td>7</td>
<td>question-20</td>
<td>6</td>
<td>Question 20 verification</td>
</tr>
<tr>
<td>8</td>
<td>questions-21-23</td>
<td>7</td>
<td>Questions 21-23 verification</td>
</tr>
<tr>
<td>9</td>
<td>provider-type-selection</td>
<td>8</td>
<td><strong>BRANCH POINT</strong>: Auto-determined based on provider enrollment status</td>
</tr>
</tbody></table>
<h3>Existing Provider Path (Steps 11-23)</h3>
<table>
<thead>
<tr>
<th>Step #</th>
<th>Page ID</th>
<th>Array Index</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>11</td>
<td>existing-provider-open-cics</td>
<td>9</td>
<td>Open CICS</td>
</tr>
<tr>
<td>12</td>
<td>existing-provider-add-to-group</td>
<td>10</td>
<td>Add provider to group</td>
</tr>
<tr>
<td>13</td>
<td>existing-provider-verify-info</td>
<td>11</td>
<td>Verify provider information</td>
</tr>
<tr>
<td>14</td>
<td>existing-provider-close-enrollment</td>
<td>12</td>
<td>Close enrollment task</td>
</tr>
<tr>
<td>15</td>
<td>existing-provider-finish-group-change</td>
<td>13</td>
<td>Finish group change</td>
</tr>
<tr>
<td>16</td>
<td>existing-provider-create-checklist</td>
<td>14</td>
<td>Create checklist</td>
</tr>
<tr>
<td>17</td>
<td>existing-provider-approve-group-change</td>
<td>15</td>
<td>Approve group change</td>
</tr>
<tr>
<td>18</td>
<td>existing-provider-open-letter-task</td>
<td>16</td>
<td>Open letter task</td>
</tr>
<tr>
<td>19</td>
<td>existing-provider-select-letter</td>
<td>17</td>
<td>Select letter</td>
</tr>
<tr>
<td>20</td>
<td>existing-provider-add-to-letter</td>
<td>18</td>
<td>Add provider to letter</td>
</tr>
<tr>
<td>21</td>
<td>existing-provider-finish-letter</td>
<td>19</td>
<td>Finish letter</td>
</tr>
<tr>
<td>22</td>
<td>existing-provider-close-letter-task</td>
<td>20</td>
<td>Close letter task</td>
</tr>
<tr>
<td>23</td>
<td>existing-provider-completion</td>
<td>21</td>
<td>Completion page</td>
</tr>
</tbody></table>
<h3>New Provider Path (Steps 24-37)</h3>
<table>
<thead>
<tr>
<th>Step #</th>
<th>Page ID</th>
<th>Array Index</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>24</td>
<td>create-enrollment</td>
<td>22</td>
<td>Create new enrollment</td>
</tr>
<tr>
<td>25</td>
<td>fill-provider-info</td>
<td>23</td>
<td>Fill provider information</td>
</tr>
<tr>
<td>26</td>
<td>check-group-specialties</td>
<td>24</td>
<td>Check group specialties</td>
</tr>
<tr>
<td>27</td>
<td>enrollment-applications-tab</td>
<td>25</td>
<td>Enrollment applications tab</td>
</tr>
<tr>
<td>28</td>
<td>verify-enrollment-application</td>
<td>26</td>
<td>Verify enrollment application</td>
</tr>
<tr>
<td>29</td>
<td>provider-address-tab</td>
<td>27</td>
<td>Provider address tab</td>
</tr>
<tr>
<td>30</td>
<td>payment-mailing-address-tab</td>
<td>28</td>
<td>Payment/Mailing address tab</td>
</tr>
<tr>
<td>31</td>
<td>provider-information-tab</td>
<td>29</td>
<td>Provider information tab</td>
</tr>
<tr>
<td>32</td>
<td>npi-tab</td>
<td>30</td>
<td>NPI tab</td>
</tr>
<tr>
<td>33</td>
<td>specialty-tab</td>
<td>31</td>
<td>Specialty tab</td>
</tr>
<tr>
<td>34</td>
<td>claim-type-tab</td>
<td>32</td>
<td>Claim type tab</td>
</tr>
<tr>
<td>35</td>
<td>license-dea-tab</td>
<td>33</td>
<td>License/DEA tab</td>
</tr>
<tr>
<td>36</td>
<td>enroll-on-mainframe</td>
<td>34</td>
<td>Enroll on mainframe</td>
</tr>
<tr>
<td>37</td>
<td>additional-providers-check</td>
<td>35</td>
<td><strong>DECISION POINT</strong>: Additional providers needed?</td>
</tr>
</tbody></table>
<h3>New Provider Loop Handlers</h3>
<ol>
<li><p><strong>Step 37 &quot;Yes&quot; Handler</strong> (additional-providers-check with &quot;Yes&quot;)</p>
<ul>
<li>Saves provider data to enrolledProviders</li>
<li>Clears provider-specific form fields</li>
<li>Sets <code>providerEnrollmentType</code> to <code>&#39;New Provider&#39;</code></li>
<li>Navigates directly to create-enrollment (Step 24, index 22)</li>
<li>This implements the &quot;Repeat Steps 24-36&quot; loop for additional new providers</li>
</ul>
</li>
<li><p><strong>Step 37 &quot;No&quot; Handler</strong> (additional-providers-check with &quot;No&quot;)</p>
<ul>
<li>Saves final provider data to enrolledProviders</li>
<li>Sets <code>providerEnrollmentType</code> to <code>&#39;Existing Provider&#39;</code></li>
<li>Navigates to existing-provider-open-cics (Step 11, index 9)</li>
<li>Enables access to completion steps (Steps 11-23)</li>
</ul>
</li>
</ol>
<h3>Existing Provider Loop Handlers</h3>
<ol start="3">
<li><p><strong>Step 23 &quot;Yes&quot; Handler</strong> (existing-provider-completion with &quot;Yes&quot;)</p>
<ul>
<li>Saves provider data to enrolledProviders</li>
<li>Clears existing provider-specific form fields</li>
<li>Keeps <code>providerEnrollmentType</code> as <code>&#39;Existing Provider&#39;</code></li>
<li>Navigates directly to existing-provider-open-cics (Step 11, index 9)</li>
<li>This implements the loop for adding multiple existing providers to the group</li>
</ul>
</li>
<li><p><strong>Step 23 &quot;No&quot; Handler</strong> (existing-provider-completion with &quot;No&quot;)</p>
<ul>
<li>Saves final provider data to enrolledProviders</li>
<li>Navigates to final completion page</li>
<li>Completes the entire workflow</li>
</ul>
</li>
</ol>
<h3>Flow Validation</h3>
<p>The implementation correctly handles:</p>
<ul>
<li>✅ Sequential flow through Steps 1-9</li>
<li>✅ Auto-branching at Step 9 based on provider enrollment status with priority logic:<ul>
<li>New Provider workflow takes priority if any providers need enrollment</li>
<li>All new providers are enrolled before existing providers are added</li>
</ul>
</li>
<li>✅ Existing Provider path (Steps 11-23)</li>
<li>✅ New Provider path (Steps 24-37)</li>
<li>✅ New Provider loop (Step 37 &quot;Yes&quot; → Step 24)</li>
<li>✅ Existing Provider loop (Step 23 &quot;Yes&quot; → Step 11)</li>
<li>✅ Transition from New Provider to Existing Provider workflow (Step 37 &quot;No&quot; → Step 11)</li>
<li>✅ Final completion from Existing Provider workflow (Step 23 &quot;No&quot; → Final completion)</li>
<li>✅ Provider enrollment data tracking in <code>enrolledProviders</code> array</li>
<li>✅ Proper <code>providerEnrollmentType</code> management for conditional page display</li>
</ul>

</body>
</html>